
<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.w3.org/1000/xhtml">
<HEAD>

<!-- Bootstrap core CSS -->
<link href="css/bootstrap.min.css" rel="stylesheet" />

<!-- Custom styles for this template -->
<link href="css/style.css" rel="stylesheet" />

<script src="//cdn.tinymce.com/4/tinymce.min.js"></script>
<script>tinymce.init({ selector:'textarea' });</script>

<link th:href="@{css/font-awesome.min.css}" rel="stylesheet" />

<!-- data table -->
<link th:href="@{css/jquery.dataTables.min.css}" rel="stylesheet" />
<link th:href="@{css/dataTables.bootstrap.min.css}" rel="stylesheet" />
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
</HEAD>



<body>
	<br><br>
	<div style="    text-align:center;
	"><H1><Strong>Flight Booking </Strong></H1></div>
	<br>
	<div class="container">
	
	
	<div th:if="${seatsNotAvalible}" class="alert alert-danger">
  <strong > Opps Seats Not Available</strong>
</div>

<!-- <div>
<span style="color: red;"class="alert alert-success" th:if="${ProductConfigAdded}">ProductConfig added successfully.</span>
</div> -->
		<div class="table-responsive">
			<table id="bookListTable" class="table table-bordered table-hover table-striped">
				<thead>
					<tr>
						<th><input th:id="selectAllBooks" type="checkbox" /></th>
						<th>Flight ID</th>
						<th>Flight Name</th>
 						<th>Departure Date</th>
						<th>Departure  Time</th>
						<th>Total Seats</th>
						<th>Available Seats</th>
						<th> Price Per Ticket</th>
						<th>Opreation</th>
						
					</tr>
				</thead>
				<tbody>
					<tr th:each="Flights, counts : ${finalFlightMap}" th:with="flight=${Flights.key}">
						<td>
						<input hidden="hidden" name="id" th:value="${flight.id}" />
						</td>
						<td th:text="${flight.airlineid}"></td>
						<td th:text="${flight.airlineName}"></td>
					    <td th:with="flightDetails=${Flights.value}" th:text="${flightDetails.flightDepartureDate}"></td>
						
						<td th:text="${flight.departureTime}" ></td>
						<td th:text="${flight.totalSeats}"></td>
						<td style="color: red" th:with="flightDetails=${Flights.value}" th:text="${flightDetails.availableSeats}"></td>
						<td th:with="flightDetails=${Flights.value}" th:text="${flightDetails.price}"></td>
						
						 <td>
							<input hidden="hidden" name="id" th:value="${flight.id}" />
							<a th:with="flightDetails=${Flights.value}" th:href="@{/bookTicket(id=${flight.id},flightDetailsId=${flightDetails.id})}" class="btn btn-success"> Book Ticket</a><br><br>
							
						</td>
					</tr>
				</tbody>
			</table>
		</div>

	</div>
	
	
	
	
	
	<script
	src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
<script src="js/bootstrap.min.js"></script>
		<script th:src="@{/js/main.js}"></script>

<!-- data table -->
<script th:src="@{js/jquery.dataTables.min.js}"></script>
<script th:src="@{js/dataTables.bootstrap.min.js}"></script>

		

</body>
</html>
